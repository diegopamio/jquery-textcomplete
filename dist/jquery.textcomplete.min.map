{"version":3,"file":"dist/jquery.textcomplete.min.js","sources":["dist/jquery.textcomplete.js"],"names":["jQuery","Error","rangy","$","warn","message","console","fn","textcomplete","strategies","option","args","Array","prototype","slice","call","arguments","this","each","$this","completer","data","Completer","shift","apply","obj","name","register","Strategy","parse","element","$el","id","uniqueId","views","extend","DEFAULTS","is","isContentEditable","document","activeElement","initialize","self","one","lock","func","locked","queuedArgsToReplay","unshift","replayOrFree","replayArgs","undefined","isString","Object","toString","appendTo","zIndex","adapter","dropdown","get","Dropdown","Adapter","viewName","selectionEnd","destroy","off","trigger","text","skipUnchangedTerm","getContentFromHeadToCaret","searchQuery","_extractSearchQuery","length","term","_term","_search","deactivate","fire","eventName","push","select","value","strategy","focus","_clearAtNext","i","context","match","index","free","search","stillSearching","shown","activate","setPosition","getCaretPosition","clear","render","_zip","map","findOrCreateElement","_data","$inputEl","listPosition","height","_i","_bindEvents","dropdownViews","include","zippedData","datum","elem","idProperty","on","e","originalEvent","keepTextCompleteDropdown","key","view","$parent","children","css","display","left","position","footer","header","maxCount","placement","className","contentsHtml","_buildContents","unzippedData","d","_renderHeader","_renderFooter","_renderContents","_activateIndexedItem","_setScroll","_applyPlacement","html","_index","_$header","_$footer","show","addClass","hide","removeClass","isUp","keyCode","ctrlKey","isDown","isEnter","modifiers","altKey","metaKey","shiftKey","isPageup","isPagedown","proxy","_onClick","_onMouseover","_onKeydown","target","preventDefault","hasClass","closest","parseInt","setTimeout","_up","_down","_enter","_pageup","_pagedown","_getActiveElement","threshold","top","innerHeight","outerHeight","find","$activeEl","itemTop","itemHeight","visibleHeight","visibleTop","scrollTop","template","prependTo","isFunction","before","append","indexOf","bottom","parent","lineHeight","right","options","cache","memoize","memo","callback","concat","optionsArray","replace","now","Date","getTime","debounce","wait","timeout","timestamp","result","later","last","el","constructor","_onKeyup","_getCaretRelativePosition","offset","_skipSearch","remove","clickEvent","Textarea","DIV_PROPERTIES","whiteSpace","COPY_PROPERTIES","pre","post","substring","newSubstr","isArray","val","selectionStart","dummyDiv","_copyCss","span","overflow","scrollHeight","offsetHeight","_getStyles","color","styles","property","IETextarea","sentinelChar","insertBefore","range","createTextRange","collapse","moveEnd","moveStart","selection","createRange","arr","split","ContentEditable","sel","window","getSelection","getRangeAt","cloneRange","selectNodeContents","startContainer","getContentFromCaretEnd","outputIsArray","deleteContents","post_el","createElement","innerHTML","post_html_node","createDocumentFragment","node","firstChild","lastNode","appendChild","insertNode","pre_el","pre_html_node","setStartAfter","removeAllRanges","addRange","$node","dir","attr","listView","width","onlyText","useInnerHTML","rangeCount","substr","startOffset"],"mappings":"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"}